# How to perform PhageScope analyses

PhageScope supplies automatic analysis workflows for users to study their customized phages efficiently. The workflow encompasses pipelines for genome annotation and genome comparison analysis. Click ``Analysis`` on the navigation bar to get started.   

## Genome Annotation
Click ``Genome Annotation`` button and perform genome annotation. Users can run demo data or directly view demo results.      

<div align=center><img src="https://github.com/deepomicslab/PhageScope/blob/main/Tutorial/Ana_docs/Ana_figures/annotation_input.png" width="800"></div>

To input phage sequences, users can upload their FASTA file with single or multiple phage sequences, enter the phage ID in PhageScope database, or paste the sequence directly. Then users can select the analysis modules according to their needs. Brief introductions to the modules are provided for reference.   

<div align=center><img src="https://github.com/deepomicslab/PhageScope/blob/main/Tutorial/Ana_docs/Ana_figures/annotation_modules.png" width="800"></div>

After clicking the ``Submit`` button, users would be directed to the workspace. Also, they can enter the workspace from ``Workspace`` on the navigation bar to check the status of their submitted tasks. 

<div align=center><img src="https://github.com/deepomicslab/PhageScope/blob/main/Tutorial/Ana_docs/Ana_figures/workspace.png" width="800"></div>

When the task is completed, the status would change from ``Running`` to ``Success``, and users can click the ``view`` button to check the results. The results from the selected modules are prepared.  

<div align=center><img src="https://github.com/deepomicslab/PhageScope/blob/main/Tutorial/Ana_docs/Ana_figures/annotation_result1.png" width="800"></div>

An overview of the analysis results for all the inputed phages are provided on the page with downloadable tables and visualizations. Users can click their selected modules above to obtain more details.

<div align=center><img src="https://github.com/deepomicslab/PhageScope/blob/main/Tutorial/Ana_docs/Ana_figures/annotation_result2.png" width="800"></div>

Users can click the ``Detail`` button to check the annotation results and visualizations for the individual phage.  

<div align=center><img src="https://github.com/deepomicslab/PhageScope/blob/main/Tutorial/Ana_docs/Ana_figures/annotation_ind1.png" width="800"></div>

<div align=center><img src="https://github.com/deepomicslab/PhageScope/blob/main/Tutorial/Ana_docs/Ana_figures/annotation_ind2.png" width="800"></div>


## Genome Comparison
For genome comparison, users should upload FASTA file with multiple phage sequences or paste multiple sequences to the text fields.  

<div align=center><img src="https://github.com/deepomicslab/PhageScope/blob/main/Tutorial/Ana_docs/Ana_figures/comparison_input.png" width="800"></div>

Then users can select specific modules to perform analyses.  

<div align=center><img src="https://github.com/deepomicslab/PhageScope/blob/main/Tutorial/Ana_docs/Ana_figures/comparison_modules.png" width="800"></div>

PhageScope provides an option for users to incorporate the curated phages into genome comparison pipelines. Filtering options are available to select the curated sequences for comparison based on specific criteria such as sequence quality, length range, and phage lifestyle.

<div align=center><img src="https://github.com/deepomicslab/PhageScope/blob/main/Tutorial/Ana_docs/Ana_figures/comparison_modules.png" width="800"></div>

After the task is completed, users can get access to the genome comparison results from the workspace. Sequence alignment plots and comparative trees are available for the clustering results.

<div align=center><img src="https://github.com/deepomicslab/PhageScope/blob/main/Tutorial/Ana_docs/Ana_figures/comparison_modules.png" width="800"></div>

In our demonstration, we showcase the query phages (shown in red), as well as the phages from the PhageScope database that are clustered together with queries (shown in blue).  

<div align=center><img src="https://github.com/deepomicslab/PhageScope/blob/main/Tutorial/Ana_docs/Ana_figures/comparison_modules.png" width="800"></div>
